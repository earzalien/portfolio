import{r as o,j as e,R as L,H as Z,t as ee,L as M,n as se,Q as d}from"./vendor-react-BhfOyjr7.js";import{u as H,c as te,d as ae,i as t,B as ne,t as j}from"./index-D7NW0OrC.js";import{e as D}from"./vendor-N_WXE5Oj.js";import{u as re,d as P,m as le}from"./vendor-motion-BOAErEYn.js";const B=()=>{const[p,m]=o.useState("unknown"),{language:v}=H(),x="https://backend-portfolio-henna.vercel.app/api/health",F=()=>p==="operational"?"!text-green-500":"!text-gray-400",S=()=>p==="operational"?"bg-green-500":"bg-gray-400";o.useEffect(()=>{async function f(){try{const b=await D.get(x);m(b.data.status==="operational"?"operational":"unknown")}catch(b){console.error("Failed to get status from backend:",b),m("unknown")}}f()},[x]);const N=v==="FR"?p==="operational"?"Envoi des messages : disponible":"Envoi des messages : indisponible":v==="ES"?p==="operational"?"EnvÃ­o de mensajes: disponible":"EnvÃ­o de mensajes: no disponible":p==="operational"?"Message sending: available":"Message sending: unavailable";return e.jsx(L.Fragment,{children:e.jsxs("div",{className:"status p-4 rounded-xl flex flex-row items-center",children:[e.jsxs("div",{className:"status-icon w-[2rem] h-[2rem] rounded-3xl relative mr-4",children:[e.jsx("div",{className:`status-icon-inner absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-4 h-4 ${S()} rounded-[inherit]`}),e.jsx("div",{className:`status-icon-wave w-[inherit] h-[inherit] rounded-[inherit] ${S()} animate-ping`})]}),e.jsx("p",{className:`status-text ${F()}`,children:N})]})})},me=()=>{const p="https://backend-portfolio-henna.vercel.app/api/contact",[m,v]=o.useState(""),[x,F]=o.useState(""),[S,N]=o.useState(""),[f,b]=o.useState(""),[O,A]=o.useState(""),[y,i]=o.useState(null),[R,U]=o.useState(!0),[k,h]=o.useState("idle"),{ref:_}=te("Contact"),{language:s}=H(),{theme:w}=ae(),T=o.useRef(null),{scrollYProgress:I}=re({target:T,offset:["0 1","1.33 1"]}),Y=P(I,[0,1],[.8,1]),z=P(I,[0,1],[.6,1]),J=async l=>{l.preventDefault(),h("loading");const a=l.currentTarget,n=new FormData(a),c={name:String(n.get("name")||""),email:String(n.get("email")||""),subject:String(n.get("subject")||""),message:String(n.get("message")||"")},g=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!c.name||c.name.trim().length<2){d.error(s==="FR"?"Merci dâ€™indiquer un nom valide.":s==="ES"?"Por favor introduce un nombre vÃ¡lido.":"Please enter a valid name."),h("error");return}if(!g.test(c.email)){d.error(s==="FR"?"Merci dâ€™indiquer une adresse email valide.":s==="ES"?"Por favor introduce un correo electrÃ³nico vÃ¡lido.":"Please enter a valid email address."),h("error");return}if(!c.message||c.message.trim().length<10){d.error(s==="FR"?"Ton message est trop court.":s==="ES"?"Tu mensaje es demasiado corto.":"Your message is too short."),h("error");return}try{const r=await D.post(p,c,{headers:{"Content-Type":"application/json"}});console.log(r),s==="FR"?d.success(j.successEmailSent.fr):s==="ES"?d.success(j.successEmailSent.es):d.success(j.successEmailSent.en),v(""),F(""),N(""),b(""),i(null),h("success")}catch(r){console.log(r),s==="FR"?d.error(j.failedEmailSent.fr):s==="ES"?d.error(j.failedEmailSent.es):d.error(j.failedEmailSent.en),h("error")}},u=l=>{A(`${l}${O}`)},q=(l,a,n)=>{const c=l.split(" ");let g=[],r="";return c.forEach(E=>{r.length+E.length<=a?r+=E+" ":(g.push(r.trim()),r=`${n}${E} `)}),r&&g.push(r.trim()),g.join(`
`)},$=l=>{const{name:a,value:n}=l.target;a==="name"?v(n):a==="email"?F(n):a==="subject"?N(n):a==="message"&&b(n),i(a),k!=="idle"&&h("idle")};o.useEffect(()=>{const l=setInterval(()=>{U(a=>!a)},400);return()=>{clearInterval(l)}},[]);const V=x.length>40?x.slice(0,37)+"...":x,G=s==="FR"?`// ðŸŒˆ PoussiÃ¨re dâ€™Ã©toiles en cours:
// CrÃ©ation dâ€™un email cosmique ðŸŒŒ`:s==="ES"?`// ðŸŒˆ Esparciendo polvo de estrellas:
// Creando un correo cÃ³smico ðŸŒŒ`:`// ðŸŒˆ Spreading stardust:
// Crafting a cosmic email ðŸŒŒ`,Q=s==="FR"?`Salut, explorateurÂ·rice ! ðŸ‘‹

Ton message vient de traverser le rÃ©seau et dâ€™atterrir dans ma boÃ®te mail.

"${q(f,40," ")}"

Je te rÃ©ponds dÃ¨s que possible.

Ã€ bientÃ´t,
${m}`:s==="ES"?`Â¡Hola, explorador(a)! ðŸ‘‹

Tu mensaje acaba de viajar por la red y ha aterrizado en mi buzÃ³n.

"${q(f,40," ")}"

Te responderÃ© lo antes posible.

Hasta pronto,
${m}`:`Hello, explorer! ðŸ‘‹

Your message just jumped through the network and landed in my inbox.

"${q(f,40," ")}"

Iâ€™ll get back to you as soon as possible.

Talk soon,
${m}`,W=`
import { useState } from "react";

${G}

const [sender, setSender] = "${m}${y==="name"?R?"|":" ":""}ðŸš€";
const [recipient, setRecipient] = "${V}${y==="email"?R?"|":" ":""}ðŸ“§";
const [subject, setSubject] =
"${S}${y==="subject"?R?"|":" ":""}âœ¨";
const [message, setMessage] =
\`${Q}${y==="message"?R?"|":" ":""}\`;
`,C={name:s==="FR"?"Nom":s==="ES"?"Nombre":"Name",email:s==="FR"?"Adresse email":s==="ES"?"Correo electrÃ³nico":"Email address",subject:s==="FR"?"Sujet":s==="ES"?"Asunto":"Subject",message:s==="FR"?"Message":s==="ES"?"Mensaje":"Message"};return e.jsx(L.Fragment,{children:e.jsxs("section",{className:"contact-container w-full min-[1921px]:px-[55rem] mt-16",id:"contact",children:[e.jsx("div",{className:"title-container flex flex-col gap-6 justify-center items-center py-16  max-lg:p-16",ref:_,children:e.jsxs(le.div,{ref:T,style:{scale:Y,opacity:z,textAlign:"center"},children:[e.jsxs("p",{className:"text-[--black] mb-6",children:[e.jsx("span",{className:"text-[--orange]",children:"<"}),s==="FR"?t.title.fr:s==="ES"?t.title.es:t.title.en,e.jsx("span",{className:"text-[--orange]",children:"/>"})]}),e.jsx("h2",{className:"text-[--black] text-center",children:s==="FR"?t.description.fr:s==="ES"?t.description.es:t.description.en})]})}),e.jsxs("div",{className:"flex flex-row justify-center items-start px-32 pt-32 mb-32 max-lg:flex-col max-lg:p-10",children:[e.jsxs("div",{className:"w-1/2 bg-[--darkblue] text-[--white] flex flex-col justify-center items-start gap-12 rounded-2xl p-20 border-solid border-[0.4rem] border-[--lightblue] hover:border-orange duration-500 transition-all quote-outer-container text-left max-lg:hidden cursor-progress",children:[e.jsx(Z,{code:W,language:"tsx",theme:ee.nightOwl,children:({className:l,style:a,tokens:n,getLineProps:c,getTokenProps:g})=>e.jsx("pre",{className:`${l} text-4xl code-preview`,style:a,children:n.map((r,E)=>e.jsx("div",{...c({line:r,key:E}),children:r.map((K,X)=>e.jsx("span",{...g({token:K,key:X})}))}))})}),e.jsx("div",{className:"mt-4 text-2xl",children:e.jsx(B,{})})]}),e.jsxs("form",{className:"flex flex-col gap-6 justify-center items-center px-32 w-1/2 max-lg:w-full max-lg:p-10",onSubmit:J,autoComplete:"off",children:[e.jsxs("div",{className:"w-full flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"contact-name",className:"block text-sm font-medium text-[--transparent]",children:C.name}),e.jsx("input",{id:"contact-name",type:"text",name:"name",placeholder:s==="FR"?t.inputfields[0].placeholder.fr:s==="ES"?t.inputfields[0].placeholder.es:t.inputfields[0].placeholder.en,value:m,required:!0,onFocus:()=>{u("name"),i("name")},onMouseEnter:()=>{u("name"),i("name")},onChange:$,disabled:k==="loading",className:`w-full ${w==="dark"?"bg-[--blackblue] dark-mode-shadow ":"bg-[--icewhite] dark-shadow "}`})]}),e.jsxs("div",{className:"w-full flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"contact-email",className:"block text-sm font-medium text-[--transparent]",children:C.email}),e.jsx("input",{id:"contact-email",type:"email",name:"email",placeholder:s==="FR"?t.inputfields[1].placeholder.fr:s==="ES"?t.inputfields[1].placeholder.es:t.inputfields[1].placeholder.en,value:x,required:!0,onFocus:()=>{u("email"),i("email")},onMouseEnter:()=>{u("email"),i("email")},onChange:$,disabled:k==="loading",className:`w-full ${w==="dark"?"bg-[--blackblue] dark-mode-shadow ":"bg-[--icewhite] dark-shadow "}`})]}),e.jsxs("div",{className:"w-full flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"contact-subject",className:"block text-sm font-medium text-[--transparent]",children:C.subject}),e.jsx("input",{id:"contact-subject",type:"text",name:"subject",placeholder:s==="FR"?t.inputfields[2].placeholder.fr:s==="ES"?t.inputfields[2].placeholder.es:t.inputfields[2].placeholder.en,value:S,required:!0,onFocus:()=>{u("subject"),i("subject")},onMouseEnter:()=>{u("subject"),i("subject")},onChange:$,disabled:k==="loading",className:`w-full ${w==="dark"?"bg-[--blackblue] dark-mode-shadow ":"bg-[--icewhite] dark-shadow "}`})]}),e.jsxs("div",{className:"w-full flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"contact-message",className:"block text-sm font-medium text-[--transparent]",children:C.message}),e.jsx("textarea",{id:"contact-message",rows:t.textarea.rows,placeholder:s==="FR"?t.textarea.placeholder.fr:s==="ES"?t.textarea.placeholder.es:t.textarea.placeholder.en,name:t.textarea.name,value:f,onFocus:()=>{u(t.textarea.name),i(t.textarea.name)},onMouseEnter:()=>{u(t.textarea.name),i(t.textarea.name)},onChange:$,disabled:k==="loading",className:`w-full ${w==="dark"?"bg-[--blackblue] dark-mode-shadow":"bg-[--icewhite] dark-shadow"}`})]}),e.jsxs("div",{className:"privacy-checkbox flex gap-16",children:[e.jsxs("label",{className:"block w-2 h-2 cursor-pointer",htmlFor:"checkbox-label",children:[e.jsx("input",{type:"checkbox",required:!0,name:"checkbox-label",id:"checkbox-label"}),e.jsx("span",{className:"checkbox"})]}),e.jsxs("p",{children:[s==="FR"&&e.jsxs(e.Fragment,{children:["Jâ€™accepte que mes informations soient utilisÃ©es pour rÃ©pondre Ã  ma demande et je confirme avoir lu la"," ",e.jsx(M,{to:"/privacy",className:"underline text-[--orange]",target:"_blank",rel:"noopener noreferrer",children:"politique de confidentialitÃ©"}),"."]}),s==="EN"&&e.jsxs(e.Fragment,{children:["I agree that my information will be used to answer my request and I confirm that I have read the"," ",e.jsx(M,{to:"/privacy",className:"underline text-[--orange]",target:"_blank",rel:"noopener noreferrer",children:"privacy policy"}),"."]}),s==="ES"&&e.jsxs(e.Fragment,{children:["Acepto que mi informaciÃ³n se utilice para responder a mi solicitud y confirmo que he leÃ­do la"," ",e.jsx(M,{to:"/privacy",className:"underline text-[--orange]",target:"_blank",rel:"noopener noreferrer",children:"polÃ­tica de privacidad"}),"."]})]})]}),e.jsx(ne,{value:s==="FR"?t.button.value.fr:s==="ES"?t.button.value.es:t.button.value.en,iconSVG:t.icon,buttoncolor:t.colors.main,iconcolor:t.colors.icon,type:"submit",elementType:"input"}),e.jsx("div",{className:"w-full flex justify-center mb-4 lg:hidden",children:e.jsx(B,{})}),e.jsx(se,{className:"w-max text-3xl block p-3 max-lg:w-full ",position:"bottom-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:w})]})]})]})})};export{me as default};
